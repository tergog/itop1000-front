<div [formGroup]="form">
  <ng-container *ngIf="devProfileService.availableCategories && sectionName === 'categoriesAndSkills'">
    <!-- categories and skills -->
    <div class="d__flex d__flex--direction-column p__20">
      <span class="text text__title text__color--1">
        Categories
      </span>

      <mat-form-field class="m__top--10" [class.edit-mode]="isEdit">
        <mat-chip-list #chipListCategories formControlName="categories">
          <mat-chip *ngFor="let category of devProfileService.selectedCategories"
                    [selectable]="false"
                    [removable]="isEdit"
                    (removed)="onChipRemove(category, 'selectedCategories', 'availableCategories')">
            {{ category.name }}
            <mat-icon matChipRemove *ngIf="isEdit">cancel</mat-icon>
          </mat-chip>
          <input placeholder="Add category..."
                 [readOnly]="!isEdit"
                 [matChipInputFor]="chipListCategories"
                 [matAutocomplete]="autoCategories"
                 [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                 [matChipInputAddOnBlur]="true">
        </mat-chip-list>

        <mat-autocomplete #autoCategories="matAutocomplete" (optionSelected)="onChipSelect($event.option.value, 'selectedCategories', 'availableCategories')">
          <mat-option *ngFor="let category of devProfileService.availableCategories" [value]="category">
            {{ category.name }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <span class="text text__title text__color--1 m__top--20">
        Skills
      </span>

      <mat-form-field class="m__top--10" [class.edit-mode]="isEdit">
        <mat-chip-list #chipListSkills formControlName="skills">
          <mat-chip *ngFor="let skill of devProfileService.selectedSkills"
                    [selectable]="false"
                    [removable]="isEdit"
                    (removed)="onChipRemove(skill, 'selectedSkills', 'availableSkills')">
            {{ skill.name }}
            <mat-icon matChipRemove *ngIf="isEdit">cancel</mat-icon>
          </mat-chip>
          <input placeholder="Add skill..."
                 [readOnly]="!isEdit"
                 [matChipInputFor]="chipListSkills"
                 [matAutocomplete]="autoSkills"
                 [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                 [matChipInputAddOnBlur]="true">
        </mat-chip-list>

        <mat-autocomplete #autoSkills="matAutocomplete" (optionSelected)="onChipSelect($event.option.value, 'selectedSkills', 'availableSkills')">
          <mat-option *ngFor="let skill of devProfileService.availableSkills" [value]="skill">
            {{ skill.name }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <div class="text__right" *ngIf="isEdit">
        <app-button [type]="'transparent'" [text]="'Cancel'" (buttonClick)="onEditClick()"></app-button>
        <app-button [text]="'Save'" (buttonClick)="onSaveClick()"></app-button>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="sectionName === 'projects'">
    <!-- work-experience -->
    <div class="d__inline-flex d__flex--justify-between d__flex--items-center m__right--30 m__bottom--10">
      <span class="text text__sm text__bold text__uppercase m__right--10">Title</span>
      <app-input [type]="'inner'" formControlName="title" [placeholder]="'Title'"></app-input>
    </div>

    <div class="d__inline-flex d__flex--justify-between d__flex--items-center m__right--30 m__bottom--10">
      <span class="text text__sm text__bold text__uppercase m__right--10">Description</span>
      <app-input [type]="'inner'" formControlName="description" [placeholder]="'Description'" ></app-input>
    </div>

    <div class="d__inline-flex d__flex--justify-between d__flex--items-center m__right--30 m__bottom--10">
      <span class="text text__sm text__bold text__uppercase m__right--10">Link</span>
      <app-input [type]="'inner'" formControlName="link" [placeholder]="'Link'"></app-input>
    </div>

    <mat-form-field class="chip-list m__top--10" [class.edit-mode]="isEdit">
      <mat-chip-list #chipListTechnologies formControlName="technologies">
        <mat-chip *ngFor="let technology of devProfileService.selectedTechnologies"
                  [selectable]="false"
                  [removable]="isEdit"
                  (removed)="onChipRemove(technology, devProfileService.selectedTechnologies, devProfileService.availableTechnologies)">
          {{ technology.name }}
          <mat-icon matChipRemove *ngIf="isEdit">cancel</mat-icon>
        </mat-chip>
        <input placeholder="Add Technology..."
              [readOnly]="!isEdit"
              [matChipInputFor]="chipListTechnologies"
              [matAutocomplete]="autoTechnologies"
              [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
              [matChipInputAddOnBlur]="true">
      </mat-chip-list>

      <mat-autocomplete #autoTechnologies="matAutocomplete" (optionSelected)="onChipSelect($event, devProfileService.selectedTechnologies, devProfileService.availableTechnologies)">
        <mat-option *ngFor="let technology of devProfileService.availableTechnologies" [value]="technology">
          {{ technology.name }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>

    <div class="text__right" *ngIf="isEdit">
      <app-button [type]="'transparent'" [text]="'Cancel'" (buttonClick)="onEditClick()"></app-button>
      <app-button [text]="'Save'" (buttonClick)="onSaveClick()"></app-button>
    </div>
  </ng-container>

  <ng-container *ngIf="sectionName === 'languages'">
    <!-- languages -->
    <mat-form-field class="chip-list m__top--10" [class.edit-mode]="isEdit">
      <mat-chip-list #chipListLanguages formControlName="languages">
        <mat-chip *ngFor="let language of devProfileService.selectedLanguages"
                  [selectable]="false"
                  [removable]="isEdit"
                  (removed)="onChipRemove(language, devProfileService.selectedLanguages, devProfileService.availableLanguages)">
          {{ language.name }}
          <mat-icon matChipRemove *ngIf="isEdit">cancel</mat-icon>
        </mat-chip>
        <input placeholder="Add language..."
              [readOnly]="!isEdit"
              [matChipInputFor]="chipListLanguages"
              [matAutocomplete]="autoLanguages"
              [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
              [matChipInputAddOnBlur]="true">
      </mat-chip-list>

      <mat-autocomplete #autoLanguages="matAutocomplete" (optionSelected)="onChipSelect($event, devProfileService.selectedLanguages, devProfileService.availableLanguages)">
        <mat-option *ngFor="let language of devProfileService.availableLanguages" [value]="language">
          {{ language }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
  </ng-container>

</div>
