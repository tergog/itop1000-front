<app-profile-section-header [title]="'Categories and Skills'" (edit)="onEditClick()"></app-profile-section-header>

<div class="d__flex d__flex--direction-column p__20">
  <span class="text text__title text__color--1">
    Categories
  </span>

  <mat-form-field class="m__top--10" [class.edit-mode]="isEdit">
    <mat-chip-list #chipListCategories>
      <mat-chip *ngFor="let category of selectedCategories"
                [selectable]="false"
                [removable]="isEdit"
                (removed)="onCategoryRemove(category)">
        {{ category.name }}
        <mat-icon matChipRemove *ngIf="isEdit">cancel</mat-icon>
      </mat-chip>
      <input placeholder="Add category..."
             [readOnly]="!isEdit"
             [matChipInputFor]="chipListCategories"
             [matAutocomplete]="autoCategories"
             [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
             [matChipInputAddOnBlur]="true">
    </mat-chip-list>

    <mat-autocomplete #autoCategories="matAutocomplete" (optionSelected)="onCategorySelect($event)">
      <mat-option *ngFor="let category of availableCategories" [value]="category">
        {{ category.name }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <span class="text text__title text__color--1 m__top--20">
    Skills
  </span>

  <mat-form-field class="m__top--10" [class.edit-mode]="isEdit">
    <mat-chip-list #chipListSkills>
      <mat-chip *ngFor="let skill of selectedSkills"
                [selectable]="false"
                [removable]="isEdit"
                (removed)="onSkillRemove(skill)">
        {{ skill.name }}
        <mat-icon matChipRemove *ngIf="isEdit">cancel</mat-icon>
      </mat-chip>
      <input placeholder="Add skill..."
             [readOnly]="!isEdit"
             [matChipInputFor]="chipListSkills"
             [matAutocomplete]="autoSkills"
             [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
             [matChipInputAddOnBlur]="true">
    </mat-chip-list>

    <mat-autocomplete #autoSkills="matAutocomplete" (optionSelected)="onSkillSelect($event)">
      <mat-option *ngFor="let skill of availableSkills" [value]="skill">
        {{ skill.name }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <div class="text__right" *ngIf="isEdit">
    <app-button [type]="'transparent'" [text]="'Cancel'" (buttonClick)="onEditClick()"></app-button>
    <app-button [text]="'Save'" (buttonClick)="onSaveClick()"></app-button>
  </div>
</div>
