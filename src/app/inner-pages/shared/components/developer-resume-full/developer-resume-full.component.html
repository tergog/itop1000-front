<app-standard-bg-wrap>
  <div class="d__flex" *ngIf="developer$ | async as developer">
    <div class="d__inline-flex d__flex--direction-column d__flex--items-center resume-nav p__20">
      <div class="d__flex d__flex--direction-column d__flex--items-center">
        <img [src]="developer.photo" alt="photo"/>
        <div class="d__flex d__flex--direction-column d__flex--justify-center text__center m__top--10">
          <span class="text text__underline text__color--3 text__x4lg text__fw--500 text__uppercase">{{ developer.firstName }}</span>
          <span class="text text__underline text__color--3 text__x4lg text__fw--500 text__uppercase">{{ developer.lastName }}</span>
        </div>
        <span class="text text__color--5 text__font--2 text__fw--500 text__xlg m__top--10">${{ developer.devProperties.hourlyRate }}/hr</span>
      </div>

      <ul class="m__top--30">
        <li
          class="d__flex"
          [class.active]="activeSection === DeveloperResumeSections.ProfessionalSkills"
          (click)="onSectionCLick(DeveloperResumeSections.ProfessionalSkills, professionalSkillsRef)"
        >
          <i class="categories-light m__right--10"></i>
          <span class="text text__lg text__font--2 text__color--3">Professional Skills</span>
        </li>
        <li
          class="d__flex"
          [class.active]="activeSection === DeveloperResumeSections.WorkExperience"
          (click)="onSectionCLick(DeveloperResumeSections.WorkExperience, workExperience)"
        >
          <i class="project m__right--10"></i>
          <span class="text text__lg text__font--2 text__color--3">Work Experience</span>
        </li>
        <li
          class="d__flex d__flex--items-center"
          [class.active]="activeSection === DeveloperResumeSections.Education"
          (click)="onSectionCLick(DeveloperResumeSections.Education, educationRef)"
        >
          <i class="education-light m__right--10"></i>
          <span class="text text__lg text__font--2 text__color--3">Education</span>
        </li>
        <li
          class="d__flex"
          [class.active]="activeSection === DeveloperResumeSections.SoftSkillsLanguages"
          (click)="onSectionCLick(DeveloperResumeSections.SoftSkillsLanguages, softSkillsRef)"
        >
          <i class="soft-skills-light m__right--10"></i>
          <span class="text text__lg text__font--2 text__color--3">Soft Skills | Languages</span>
        </li>
        <li
          class="d__flex d__flex--items-center"
          [class.active]="activeSection === DeveloperResumeSections.IWantToLearn"
          (click)="onSectionCLick(DeveloperResumeSections.IWantToLearn, iWantToLearnRef)"
        >
          <i class="books m__right--10"></i>
          <span class="text text__lg text__font--2 text__color--3">I Want To Learn</span>
        </li>
        <li
          class="d__flex"
          [class.active]="activeSection === DeveloperResumeSections.Certificates"
          (click)="onSectionCLick(DeveloperResumeSections.Certificates, certificates)"
        >
          <i class="certificates m__right--10"></i>
          <span class="text text__lg text__font--2 text__color--3">Certificates</span>
        </li>
        <li
          class="d__flex"
          [class.active]="activeSection === DeveloperResumeSections.Reviews"
          (click)="onSectionCLick(DeveloperResumeSections.Reviews, reviews)"
        >
          <i class="reviews m__right--10"></i>
          <span class="text text__lg text__font--2 text__color--3">Reviews</span>
        </li>
      </ul>
    </div>

    <div class="resume-content"
         #professionalSkillsRef
         snInViewport
         [inViewportOptions]="{ threshold: 1 }"
         (inViewportChange)="inViewport($event, DeveloperResumeSections.ProfessionalSkills)"
    >
      <div class="border-sparks"></div>
      <div class="m__left--30 m__right--30 d__flex d__flex--direction-column">
        <div id="exportCV">
          <button class="export-cv" title="export as pdf" (click)="exportResume(developer)">
            <i class="download"></i>
          </button>
        </div>
        <div class="location-wrap">
          <div class="d__flex m__right--30">
            <i class="location m__right--10"></i>
            <span class="text text__md text__font--2 text__color--3">{{ developer.address }}</span>
          </div>

          <div class="separator"></div>

         <span class="text text__md text__font--2 text__color--3 resume-date">
            {{ developer.dateUpdated }}
         </span>
        </div>

        <div class="d__flex d__flex--direction-column m__top--20">
          <div class="d__flex d__flex--justify-between m__top--20">
            <div class="professional-skills__text-block">
              <span class="text text__color--3 text__font--2 text__xxlg text__uppercase">Professional Skills</span>
              <div
                class="section-underline m__top--10"
                [class.section-underline-active]="activeSection === DeveloperResumeSections.ProfessionalSkills"
              >
              </div>
            </div>
            <div class="d__flex d__flex--items-center d__flex--justify-center" (click)="onMessageClick()">
              <button class="btn-message">
                <span class="text text__fw--500 text__uppercase">Message</span>
              </button>
            </div>
          </div>
          <div class="d__flex d__flex--justify-between m__top--50">
            <div class="resume-description">
                <span
                  class="text text__color--4 text__lg text__fw--200">{{ developer.devProperties.description ||
                "At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti" +
                " atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique" +
                " sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis" +
                " est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo" +
                " minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus. Temporibus" +
                " autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae" +
                " sint et molestiae non recusandae. Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis" +
                " voluptatibus maiores alias consequatur aut perferendis doloribus asperiores repellat."}}
                </span>
            </div>
            <div class="
          professional-skills__progress__wrap
          d__flex
          d__flex--items-center
          d__flex--justify-center
          ">
              <div
                class="professional-skills__progress d__flex d__flex--direction-column d__flex--items-center"
                *ngFor="let skill of developer.devProperties.skills"
              >
                <circle-progress
                  [percent]="skill.value * 20"
                  [radius]="50"
                  [space]="-4"
                  [titleColor]="'#ffffff'"
                  [titleFontSize]="30"
                  [unitsColor]="'#ffffff'"
                  [unitsFontSize]="30"
                  [showSubtitle]="false"
                  [innerStrokeWidth]="4"
                  [outerStrokeWidth]="4"
                  [innerStrokeColor]="'#565656'"
                  [outerStrokeColor]="'#F31D42'"
                ></circle-progress>
                <span class="professional-skills__progress__name text__md text__uppercase text__color--3">
              {{ skill.name }}
            </span>
              </div>
            </div>
          </div>
        </div>

        <div class="m__top--60">
          <div
            class="separator"
            #educationRef
            snInViewport
            [inViewportOptions]="{ threshold: 1 }"
            (inViewportChange)="inViewport($event, DeveloperResumeSections.Education)"
          ></div>
        </div>

        <div class="m__top--20">
          <span class="text text__color--3 text__font--2 text__xxlg text__uppercase">Education</span>
          <div
            class="section-underline m__top--10"
            [class.section-underline-active]="activeSection === DeveloperResumeSections.Education"
          ></div>
        </div>

        <div>
          <div
            class="separator m__top--20"
            #softSkillsRef
            snInViewport
            [inViewportOptions]="{ threshold: 1 }"
            (inViewportChange)="inViewport($event, DeveloperResumeSections.Education)"
          ></div>
        </div>

        <div class="d__flex d__flex--justify-between m__top--20">
          <div class="softskills">
            <span class="text text__color--3 text__font--2 text__xxlg text__uppercase">Soft Skills</span>
            <div class="softskills__wrap">
              <div class="
              softskills__skill
              d__flex
              d__flex--justify-between
              d__flex--items-center
              "
                   *ngFor="let skill of developer.devProperties.softSkills">
              <span class="
                softskills__skill__name
                text__alt
                text__right
                text__sm
                text__uppercase
                text__color--3
                ">{{ skill.name }}</span>

                <div class="softskills__progressbar__full">
                  <div class="softskills__progressbar__filled" [ngStyle]="{ width: skill.value + '%' }"></div>
                </div>
                <span class="softskills__skill__percent text__sm text__color--3">{{ skill.value }}%</span>
              </div>
            </div>
            <div
              class="section-underline m__top--10"
              [class.section-underline-active]="activeSection === DeveloperResumeSections.SoftSkillsLanguages"
            ></div>
          </div>
          <div class="languages">
            <span class="text text__color--3 text__font--2 text__xxlg text__uppercase">Languages</span>
            <div class="languages__wrap d__flex d__flex--direction-column">
              <div
                class="languages__item__wrap d__flex d__flex--justify-between d__flex--items-center"
                *ngFor="let language of developer.devProperties.languages"
              >
              <span class="
                languages__item__text
                text__sm text__right
                text__uppercase
                text__color--3">{{ language.name }}</span>

                <div class="languages__item__points d__flex">
                  <div
                    class="languages__item__points__point text__xxlg"
                    *ngFor="let point of createArrayFromProgress(language.value, 6)"
                  >
                    <span [class.languages__item__points__fill]="point">&bull;</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div
            class="separator m__top--20"
            #iWantToLearnRef
            snInViewport
            [inViewportOptions]="{ threshold: 1 }"
            (inViewportChange)="inViewport($event, DeveloperResumeSections.IWantToLearn)"
          ></div>
        </div>

        <div class="m__top--20">
          <span class="text text__color--3 text__font--2 text__xxlg text__uppercase">I want to learn</span>
          <div
            class="section-underline m__top--10"
            [class.section-underline-active]="activeSection === DeveloperResumeSections.IWantToLearn"
          ></div>
          <span class="d__flex text text__color--4 text__lg m__top--10">{{ developer.devProperties.description ||
            "But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain was born" +
          " and I will give you a complete account of the system, and expound the actual teachings of the great explorer" +
          " of the truth, the master-builder of human happiness. No one rejects, dislikes, or avoids pleasure itself," +
          " because it is pleasure, but because those who do not know how to pursue pleasure rationally encounter" +
          " consequences that are extremely painful. Nor again is there anyone who loves or pursues or desires to obtain" +
          " pain of itself, because it is pain, but because occasionally circumstances occur in which toil and pain can" +
          " procure him some great pleasure. To take a trivial example, which of us ever undertakes laborious physical" +
          " exercise, except to obtain some advantage from it? But who has any right to find fault with a man who chooses" +
          " to enjoy a pleasure that has no annoying consequences, or one who avoids a pain that produces no resultant pleasure?"}}
          </span>
        </div>

        <div>
          <div
            class="separator m__top--20"
            #certificates
            snInViewport
            [inViewportOptions]="{ threshold: 1 }"
            (inViewportChange)="inViewport($event, DeveloperResumeSections.Certificates)"
          ></div>
        </div>

        <div class="m__top--20">
          <span class="text text__color--3 text__font--2 text__xxlg text__uppercase">certificates</span>
          <div
            class="section-underline m__top--10"
            [class.section-underline-active]="activeSection === DeveloperResumeSections.Certificates"
          ></div>

          <div class="d__flex d__flex--justify-between m__top--20">
            <img class="m__right--10" src="assets/img/cert-1.png" alt=""/>
            <img class="m__right--10" src="assets/img/cert-2.png" alt=""/>
            <img src="assets/img/cert-1.png" alt=""/>
          </div>
        </div>

        <div>
          <div
            class="separator m__top--20"
            #workExperience
            snInViewport
            [inViewportOptions]="{ threshold: 1 }"
            (inViewportChange)="inViewport($event, DeveloperResumeSections.WorkExperience)"
          ></div>
        </div>

        <div class="m__top--60 m__bottom--10">
          <span class="text text__color--3 text__font--2 text__xxlg text__uppercase">Work Experience</span>
          <div
            class="section-underline m__top--10"
            [class.section-underline-active]="activeSection === DeveloperResumeSections.WorkExperience"
          ></div>

          <div class="d__flex d__flex d__flex--direction-column m__top--30" *ngIf="developer.devProperties.projects">
            <div *ngFor="let project of developer.devProperties.projects; index as i">
              <app-project-card class="m__top--10 m__right--10 m__bottom--10  cursor__pointer"
                                *ngIf="i < projectCounter"
                                (click)="onWorkExperienceClick(developer.id, i)" [project]="project"></app-project-card>
            </div>
            <app-button class="m__top--60 m__bottom--10"
                        [text]="projectCounter < developer.devProperties.projects.length ? 'Show more' : 'Hide'"
                        [type]="'secondary'" (buttonClick)="onShowMoreClick()"></app-button>
          </div>
        </div>

        <div>
          <div
            class="separator m__top--20"
            #reviews
            snInViewport
            [inViewportOptions]="{ threshold: 1 }"
            (inViewportChange)="inViewport($event, DeveloperResumeSections.Reviews)"
          ></div>
        </div>

        <div class="m__top--20">
          <span class="text text__color--3 text__font--2 text__xxlg text__uppercase">reviews</span>
          <div
            class="section-underline m__top--10"
            [class.section-underline-active]="activeSection === DeveloperResumeSections.Reviews"
          ></div>

          <div class="d__flex d__flex--justify-between m__top--20">
            <div class="review m__right--10">
              <div class="d__flex d__flex--justify-between">
                <img [src]="developer.photo" alt=""/>
                <span class="text text__xs text__color--6">{{ developer.dateUpdated }}</span>
              </div>
              <span class="d__flex text text__sm text__color--4 m__top--10">
              {{ developer.firstName }} {{ developer.lastName }}
            </span>
              <span class="d__flex text text__sm text__color--4 m__top--10">
              ous indignation and dislike men who are so beguiled and
              demoralized by the charms of pleasure of the moment,
            </span>
            </div>

            <div class="review m__right--10">
              <div class="d__flex d__flex--justify-between">
                <img [src]="developer.photo" alt=""/>
                <span class="text text__xs text__color--6">{{ developer.dateUpdated }}</span>
              </div>
              <span class="d__flex text text__sm text__color--4 m__top--10">
              {{ developer.firstName }} {{ developer.lastName }}
            </span>
              <span class="d__flex text text__sm text__color--4 m__top--10">
              ous indignation and dislike men who are so beguiled and
              demoralized by the charms of pleasure of the moment,
            </span>
            </div>

            <div class="review">
              <div class="d__flex d__flex--justify-between">
                <img [src]="developer.photo" alt=""/>
                <span class="text text__xs text__color--6">{{ developer.dateUpdated }}</span>
              </div>
              <span class="d__flex text text__sm text__color--4 m__top--10">
              {{ developer.firstName }} {{ developer.lastName }}
            </span>
              <span class="d__flex text text__sm text__color--4 m__top--10">
              ous indignation and dislike men who are so beguiled and
              demoralized by the charms of pleasure of the moment,
            </span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</app-standard-bg-wrap>
